From 587b9f9b28ce1098623f6f3e4018dcc223932bdc Mon Sep 17 00:00:00 2001
From: Chris Feist <cfeist@redhat.com>
Date: Thu, 19 Sep 2013 17:30:36 -0500
Subject: [PATCH] Re-synced cluster.rng

---
 ricci/ccs/cluster.rng.in | 231 ++++++++++++++++++++---------------------------
 1 file changed, 96 insertions(+), 135 deletions(-)

diff --git a/ricci/ccs/cluster.rng.in b/ricci/ccs/cluster.rng.in
index f34f571..bbf6f31 100644
--- a/ricci/ccs/cluster.rng.in
+++ b/ricci/ccs/cluster.rng.in
@@ -1527,6 +1527,9 @@ To validate your cluster.conf against this schema, run:
         <optional>
           <attribute name="options" rha:description="Mount Options"/>
         </optional>
+        <optional>
+          <attribute name="use_findmnt" rha:description="Utilize findmnt to detect if and where filesystems are mounted"/>
+        </optional>
       </group>
       </choice>
       <optional>
@@ -1730,6 +1733,9 @@ To validate your cluster.conf against this schema, run:
           <attribute name="named_options" rha:description="Other command-line options for named"/>
         </optional>
         <optional>
+          <attribute name="update_source" rha:description="Use cluster ip as source."/>
+        </optional>
+        <optional>
           <attribute name="shutdown_wait" rha:description="Wait X seconds for correct end of service shutdown"/>
         </optional>
         <optional>
@@ -2010,7 +2016,7 @@ To validate your cluster.conf against this schema, run:
 
 
   <define name="ORACLEDB">
-    <element name="oracledb" rha:description="Oracle 10g Failover Instance">
+    <element name="oracledb" rha:description="Oracle 10g/11g Failover Instance">
       <choice>
       <group>
         <!-- rgmanager specific stuff -->
@@ -2029,6 +2035,9 @@ To validate your cluster.conf against this schema, run:
         <optional>
           <attribute name="vhost" rha:description="Virtual Hostname"/>
         </optional>
+        <optional>
+          <attribute name="tns_admin" rha:description="Full path to the directory containing tnsnames.ora"/>
+        </optional>
       </group>
       </choice>
       <optional>
@@ -2073,6 +2082,9 @@ To validate your cluster.conf against this schema, run:
         <optional>
           <attribute name="lockfile" rha:description="Pathname for lockfile"/>
         </optional>
+        <optional>
+          <attribute name="tns_admin" rha:description="Full path to the directory containing tnsnames.ora"/>
+        </optional>
       </group>
       </choice>
       <optional>
@@ -2111,6 +2123,9 @@ To validate your cluster.conf against this schema, run:
         <attribute name="name" rha:description="Listener name"/>
         <attribute name="user" rha:description="Oracle User Name"/>
         <attribute name="home" rha:description="Oracle Home Directory"/>
+        <optional>
+          <attribute name="tns_admin" rha:description="Full path to the directory containing tnsnames.ora"/>
+        </optional>
       </group>
       </choice>
       <optional>
@@ -2472,135 +2487,6 @@ To validate your cluster.conf against this schema, run:
   <optional>
    <choice>
     <!-- begin specific fence devices -->
-       <!-- begin non-generated device definitions -->
-       <!-- RPS10 -->
-       <group rha:name="fence_rps10" rha:description="RPS10 Serial Switch" >
-        <attribute name="device" rha:description="The device the switch
-            is connected to on the controlling host."
-            rha:sample="/dev/ttys2"/>
-        <attribute name="port" rha:description="The switch outlet
-            number." rha:sample="2"/>
-       </group>
-       <!--FIXME: Determine if the following group should exclude
-       the auth and lanplus attributes. Those attributes apply only to
-       the impilan fence device.-->
-       <!-- Brocade, McData, SANBox2, Bladecenter,bullpap, ipmilan -->
-       <!-- FIXME split apart and add rha:name hints for
-            configuration utilities -->
-       <group>
-        <attribute name="ipaddr" rha:description="IP address or the name
-            of the device." rha:sample="rack007"/>
-        <optional>
-        <attribute name="login" rha:description="The login name used to
-            access the device. " rha:sample="admin"/>
-        </optional>
-        <optional>
-        <attribute name="passwd" rha:description="The password used to
-            authenticate the connection to the
-            device." rha:sample="pa$$word"/>
-        </optional>
-        <optional>
-        <attribute name="passwd_script" rha:description="The script that
-            supplies a password for access to the fence device. Using
-            this supersedes the Password parameter." rha:sample=""/>
-        </optional>
-        <optional>
-         <attribute name="auth" rha:description="For IPMI LAN
-             only. Authentication Type: none, password,
-             md2, or md5" rha:sample=""/>
-        </optional>
-        <optional>
-         <attribute name="lanplus" rha:description="For IPMI LAN only.
-             Set value to either True or 1; leave out for false."
-             rha:sample="True"/>
-        </optional>
-       </group>
-       <!-- Vixel -->
-       <group rha:name="fence_vixel">
-        <optional>
-         <attribute name="ipaddr" rha:description="IP address or the
-             name of the device." rha:sample="10.1.0.1"/>
-        </optional>
-        <optional>
-        <attribute name="passwd" rha:description="The password used to
-            authenticate the connection to the
-            device." rha:sample="pa$$word"/>
-        </optional>
-        <optional>
-         <attribute name="passwd_script" rha:description="The script
-             that supplies a password for access to the
-             fence device. Using this supersedes the Password
-             parameter." rha:sample=""/>
-        </optional>
-       </group>
-       <!-- Egenera -->
-       <!-- FIXME: Note that in the schema web page each is listed as a
-       parameter. Likewise for Conga. In addition, Conga shows Ipan
-       and pserver parameters. Also, in Conga, the esh parameter is
-       an optional ESH path. Presumably those should be attributes in
-       the schema. We need more invormation on this. -->
-       <group rha:name="fence_egenera">
-        <optional>
-         <attribute name="cserver" rha:description="The hostname (and
-            optionally the username in the form of username@hostname)
-            assigned to the device. Refer to the fence_egenera(8) man
-            page for more information." rha:sample=""/>
-        </optional>
-        <optional>
-         <attribute name="pserver" rha:description="The pserver to operate on.  fence_egenera(8)" />
-        </optional>
-        <optional>
-         <attribute name="lpan" rha:description="The lpan to operate on.  fence_egenera(8)" />
-        </optional>
-        <optional>
-         <attribute name="action" rha:description="The action to perform (reboot, off, on, or status).  fence_egenera(8)" />
-        </optional>
-        <optional>
-         <attribute name="esh" rha:description="Path to the esh command on the cserver.  fence_egenera(8)" />
-        </optional>
-        <optional>
-         <attribute name="user" rha:description="See fence_egenera(8)" />
-        </optional>
-        <optional>
-         <attribute name="delay" rha:description="Wait this many seconds before fencing is started.  fence_egenera(8)" />
-        </optional>
-       </group>
-       <!-- FIXME: It appears that xCat is no longer supported. Found no
-       fence agents for x Cat in RHEL 5.3. -->
-       <!-- xCAT -->
-       <group rha:name="fence_xcat">
-        <attribute name="rpowerpath" rha:description="" rha:sample=""/>
-       </group>
-       <group rha:name="fence_na" rha:description="Node Assassin">
-         <optional>
-           <attribute name="option"/> <!-- deprecated; for compatibility.  use "action" -->
-         </optional>
-        <!-- I don't think I need this yet.
-         <optional>
-           <attribute name="auth" rha:description="Node Assassin Auth type (password or none)" />
-         </optional>
-        -->
-         <optional>
-           <attribute name="ipaddr" rha:description="Node Assassin IP or name to talk to" />
-         </optional>
-         <optional>
-           <attribute name="passwd" rha:description="Password needed to access the Node Assassin(s)" />
-         </optional>
-         <optional>
-           <attribute name="passwd_script" rha:description="Script to retrieve password (not implemented)" />
-         </optional>
-         <optional>
-           <attribute name="login" rha:description="Login name used to log into the Node Assassin(s)" />
-         </optional>
-         <optional>
-           <attribute name="action" rha:description="Operation to perform. Valid operations: on, off, reboot, status, list, release, boot or shutdown" />
-         </optional>
-         <optional>
-           <attribute name="quiet" rha:description="Supress output" />
-         </optional>
-       </group>
-
-       <!-- end non-generated device definitions -->
 
        <!-- begin auto-generated device definitions -->
       <!-- No metadata for /usr/sbin/fence_ack_manual -->
@@ -2647,6 +2533,9 @@ To validate your cluster.conf against this schema, run:
           <attribute name="ipport" rha:description="TCP port to use for connection with device" />
         </optional>
         <optional>
+          <attribute name="cmd_prompt" rha:description="Force command prompt" />
+        </optional>
+        <optional>
           <attribute name="verbose" rha:description="Verbose mode" />
         </optional>
         <optional>
@@ -3119,6 +3008,9 @@ To validate your cluster.conf against this schema, run:
           <attribute name="power_timeout" rha:description="Test X seconds for status change after ON/OFF" />
         </optional>
         <optional>
+          <attribute name="login_timeout" rha:description="Wait X seconds for cmd prompt after login" />
+        </optional>
+        <optional>
           <attribute name="shell_timeout" rha:description="Wait X seconds for cmd prompt after issuing command" />
         </optional>
         <optional>
@@ -3606,7 +3498,7 @@ To validate your cluster.conf against this schema, run:
           <attribute name="passwd_script" rha:description="Script to retrieve password (if required)" />
         </optional>
         <optional>
-          <attribute name="lanplus" rha:description="Use Lanplus" />
+          <attribute name="lanplus" rha:description="Use Lanplus to improve security of connection" />
         </optional>
         <optional>
           <attribute name="login" rha:description="Username/Login (if required) to control power on IPMI device" />
@@ -3881,7 +3773,57 @@ To validate your cluster.conf against this schema, run:
           <attribute name="passwd_script" rha:description="Script to retrieve password (if required)" />
         </optional>
         <optional>
-          <attribute name="lanplus" rha:description="Use Lanplus" />
+          <attribute name="lanplus" rha:description="Use Lanplus to improve security of connection" />
+        </optional>
+        <optional>
+          <attribute name="login" rha:description="Username/Login (if required) to control power on IPMI device" />
+        </optional>
+        <optional>
+          <attribute name="action" rha:description="Operation to perform. Valid operations: on, off, reboot, status, list, diag, monitor or metadata" />
+        </optional>
+        <optional>
+          <attribute name="timeout" rha:description="Timeout (sec) for IPMI operation" />
+        </optional>
+        <optional>
+          <attribute name="cipher" rha:description="Ciphersuite to use (same as ipmitool -C parameter)" />
+        </optional>
+        <optional>
+          <attribute name="method" rha:description="Method to fence (onoff or cycle)" />
+        </optional>
+        <optional>
+          <attribute name="power_wait" rha:description="Wait X seconds after on/off operation" />
+        </optional>
+        <optional>
+          <attribute name="delay" rha:description="Wait X seconds before fencing is started" />
+        </optional>
+        <optional>
+          <attribute name="privlvl" rha:description="Privilege level on IPMI device" />
+        </optional>
+        <optional>
+          <attribute name="verbose" rha:description="Verbose mode" />
+        </optional>
+      </group>
+
+
+      <!-- fence_ilo4 -->
+      <group rha:name="fence_ilo4" rha:description="Fence agent for IPMI over LAN">
+        <optional>
+          <attribute name="option"/> <!-- deprecated; for compatibility.  use "action" -->
+        </optional>
+        <optional>
+          <attribute name="auth" rha:description="IPMI Lan Auth type (md5, password, or none)" />
+        </optional>
+        <optional>
+          <attribute name="ipaddr" rha:description="IPMI Lan IP to talk to" />
+        </optional>
+        <optional>
+          <attribute name="passwd" rha:description="Password (if required) to control power on IPMI device" />
+        </optional>
+        <optional>
+          <attribute name="passwd_script" rha:description="Script to retrieve password (if required)" />
+        </optional>
+        <optional>
+          <attribute name="lanplus" rha:description="Use Lanplus to improve security of connection" />
         </optional>
         <optional>
           <attribute name="login" rha:description="Username/Login (if required) to control power on IPMI device" />
@@ -4005,7 +3947,7 @@ To validate your cluster.conf against this schema, run:
           <attribute name="passwd_script" rha:description="Script to retrieve password (if required)" />
         </optional>
         <optional>
-          <attribute name="lanplus" rha:description="Use Lanplus" />
+          <attribute name="lanplus" rha:description="Use Lanplus to improve security of connection" />
         </optional>
         <optional>
           <attribute name="login" rha:description="Username/Login (if required) to control power on IPMI device" />
@@ -4233,7 +4175,7 @@ To validate your cluster.conf against this schema, run:
           <attribute name="passwd_script" rha:description="Script to retrieve password (if required)" />
         </optional>
         <optional>
-          <attribute name="lanplus" rha:description="Use Lanplus" />
+          <attribute name="lanplus" rha:description="Use Lanplus to improve security of connection" />
         </optional>
         <optional>
           <attribute name="login" rha:description="Username/Login (if required) to control power on IPMI device" />
@@ -4297,7 +4239,23 @@ To validate your cluster.conf against this schema, run:
       </group>
 
       <!-- No metadata for /usr/sbin/fence_kdump_send -->
-      <!-- No metadata for /usr/sbin/fence_pcmk -->
+
+      <!-- fence_pcmk -->
+      <group rha:name="fence_pcmk" rha:description="Helper that presents a RHCS-style interface to stonith-ng for CMAN based clusters">
+        <optional>
+          <attribute name="option"/> <!-- deprecated; for compatibility.  use "action" -->
+        </optional>
+        <optional>
+          <attribute name="action" rha:description="Fencing Action" />
+        </optional>
+        <optional>
+          <attribute name="port" rha:description="Physical plug number or name of virtual machine" />
+        </optional>
+        <optional>
+          <attribute name="help" rha:description="Display help and exit" />
+        </optional>
+      </group>
+
 
       <!-- fence_rhevm -->
       <group rha:name="fence_rhevm" rha:description="Fence agent for RHEV-M REST API">
@@ -4607,6 +4565,9 @@ To validate your cluster.conf against this schema, run:
           <attribute name="logfile" rha:description="File to write error/debug messages" />
         </optional>
         <optional>
+          <attribute name="delay" rha:description="Wait X seconds before fencing is started" />
+        </optional>
+        <optional>
           <attribute name="key" rha:description="Key value to be used for fencing action" />
         </optional>
         <optional>
-- 
1.8.3.1

